/*
*   Controlador de uso general en las páginas web del sitio privado.
*   Sirve para manejar la plantilla del encabezado y pie del documento.
*/

// Constante para completar la ruta de la API.
const USER_API = 'services/admin/administrador.php';
// Constante para establecer el elemento del contenido principal.
const MAIN = document.querySelector('main');
// Se establece el título de la página web.
document.querySelector('title').textContent = 'ASGARD';

const getSelected = () =>{
    const currentPath = window.location.pathname; // Obtiene la ruta actual

    document.querySelectorAll('.main-card').forEach(card => {
        const href = card.getAttribute('href'); // O el atributo adecuado que tenga el enlace a la sección

        if (href && currentPath.includes(href)) {
            card.classList.add('selected');
        }
    });

}

/*  Función asíncrona para cargar el encabezado y pie del documento.
*   Parámetros: ninguno.
*   Retorno: ninguno.
*/
const loadTemplate = async () => {
    // Petición para obtener en nombre del usuario que ha iniciado sesión.
    const DATA = await fetchData(USER_API, 'getUser');
    // Se verifica si el usuario está autenticado, de lo contrario se envía a iniciar sesión.
    if (DATA.session) {
        // Se comprueba si existe un alias definido para el usuario, de lo contrario se muestra un mensaje con la excepción.
        if (DATA.status) {
            // Se agrega el encabezado de la página web antes del contenido principal.
            MAIN.insertAdjacentHTML('beforebegin', `
    <svg id="SIDEBAR-ACTIVATOR" width="152" height="114" viewBox="0 0 152 114" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path fill="white" d="M0 9.5C0 4.2533 4.2533 0 9.5 0H142.5C147.747 0 152 4.2533 152 9.5V9.5C152 14.7467 147.747 19 142.5 19H9.5C4.2533 19 0 14.7467 0 9.5V9.5ZM0 57C0 51.7533 4.2533 47.5 9.5 47.5H142.5C147.747 47.5 152 51.7533 152 57V57C152 62.2467 147.747 66.5 142.5 66.5H9.5C4.2533 66.5 0 62.2467 0 57V57ZM0 104.5C0 99.2533 4.2533 95 9.5 95H142.5C147.747 95 152 99.2533 152 104.5V104.5C152 109.747 147.747 114 142.5 114H9.5C4.2533 114 0 109.747 0 104.5V104.5Z" />
    </svg>

    <div id="SIDEBAR">

        <div class="logo-container">
            <img src="../../resources/img/whitelogo.png" alt="">
        </div>

        <div class="main-container">
            <div class="main-cards-container">
                <a class="main-card" href = "inicio.html">
                    <svg width="23" height="23" viewBox="0 0 23 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M12.3546 0.376363C12.2469 0.257821 12.1155 0.163106 11.969 0.0982931C11.8225 0.0334802 11.6641 0 11.5039 0C11.3437 0 11.1853 0.0334802 11.0388 0.0982931C10.8923 0.163106 10.7609 0.257821 10.6532 0.376363L0.306727 11.8721C0.154159 12.0366 0.0530588 12.2421 0.0158881 12.4634C-0.0212826 12.6846 0.00710093 12.9119 0.0975399 13.1172C0.187979 13.3226 0.33652 13.4969 0.524855 13.6189C0.713189 13.7408 0.933084 13.8049 1.15744 13.8034H1.45665C2.56122 13.8034 3.45665 14.6988 3.45665 15.8034V21.8504C3.45665 22.1553 3.57777 22.4477 3.79336 22.6633C4.00896 22.8789 4.30136 23 4.60626 23H18.4015C18.7064 23 18.9988 22.8789 19.2144 22.6633C19.43 22.4477 19.5511 22.1553 19.5511 21.8504V15.8034C19.5511 14.6988 20.4466 13.8034 21.5511 13.8034H21.8504C22.1553 13.8034 22.4477 13.6823 22.6633 13.4667C22.8788 13.2511 23 12.9587 23 12.6538C23.0021 12.365 22.8954 12.0859 22.7011 11.8721L12.3546 0.376363Z"
                            fill="#565656" />
                    </svg>
                    <span>Inicio</span>
                </a>

                <a class="main-card" href = "sujeto_excluido.html">
                    <svg width="21" height="17" viewBox="0 0 21 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M19.8084 0H1.1767C0.902172 0 0.638892 0.109055 0.444774 0.303172C0.250656 0.49729 0.141602 0.76057 0.141602 1.03509V15.5264C0.141602 15.8009 0.250656 16.0642 0.444774 16.2583C0.638892 16.4525 0.902172 16.5615 1.1767 16.5615H19.8084C20.0829 16.5615 20.3462 16.4525 20.5403 16.2583C20.7344 16.0642 20.8435 15.8009 20.8435 15.5264V1.03509C20.8435 0.76057 20.7344 0.49729 20.5403 0.303172C20.3462 0.109055 20.0829 0 19.8084 0ZM18.7733 8.94721C18.7733 10.2941 17.53 11.3431 16.5775 12.2956V12.2956V12.2956C15.6251 13.248 14.5761 14.4913 13.2292 14.4913H7.7559C6.40897 14.4913 5.35998 13.248 4.40756 12.2956V12.2956V12.2956C3.45514 11.3431 2.21179 10.2941 2.21179 8.94721V7.6143C2.21179 6.26737 3.45514 5.21838 4.40756 4.26596V4.26596V4.26596C5.35998 3.31354 6.40897 2.07019 7.7559 2.07019H13.2292C14.5761 2.07019 15.6251 3.31354 16.5775 4.26596V4.26596V4.26596C17.53 5.21838 18.7733 6.26737 18.7733 7.6143V8.94721Z"
                            fill="#565656" />
                        <path
                            d="M10.4929 4.14038C8.2095 4.14038 6.35254 5.99734 6.35254 8.28076C6.35254 10.5642 8.2095 12.4211 10.4929 12.4211C12.7763 12.4211 14.6333 10.5642 14.6333 8.28076C14.6333 5.99734 12.7763 4.14038 10.4929 4.14038ZM10.4929 10.3509C9.35121 10.3509 8.42273 9.42247 8.42273 8.28076C8.42273 7.13905 9.35121 6.21057 10.4929 6.21057C11.6346 6.21057 12.5631 7.13905 12.5631 8.28076C12.5631 9.42247 11.6346 10.3509 10.4929 10.3509Z"
                            fill="#565656" />
                    </svg>
                    <span>Sujeto Excluido</span>
                </a>

                     <a class="main-card" href = "comprobante_credito_fiscal.html">
                    <svg width="20" height="23" viewBox="0 0 20 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M6.15031 0.149223C5.88234 0.265923 5.7181 0.529576 5.7181 0.827807C5.7181 1.02663 5.77428 1.15197 6.42694 2.34057L7.13577 3.63723L7.00179 3.74096C6.24973 4.32446 5.95582 5.32721 6.29295 6.15707L6.39668 6.4164L5.99904 6.572C5.14757 6.90913 4.34796 7.4494 3.62183 8.17553C2.75307 9.04861 2.16093 10.0427 1.80651 11.2227C1.75032 11.4129 1.41752 13.051 1.0631 14.8663C0.453668 18.0301 0.427734 18.1814 0.427734 18.7001C0.427734 19.6812 0.717321 20.4073 1.38726 21.1248C1.89296 21.6651 2.45052 21.9936 3.14639 22.1621C3.46191 22.2356 3.66506 22.2443 5.35503 22.2443C7.179 22.2443 7.22222 22.2443 7.3346 22.1535C7.49019 22.0282 7.57664 21.8509 7.57664 21.6392C7.57664 21.4014 7.53774 21.3366 7.10552 20.8785C4.85798 18.4926 4.31338 14.9787 5.73538 11.9791C6.18921 11.0282 6.67762 10.3496 7.45129 9.60185C8.41514 8.67258 9.48272 8.05883 10.7837 7.67848C11.3413 7.51856 11.4709 7.40618 11.5012 7.05608C11.5228 6.78379 11.4191 6.56335 11.2289 6.47691L11.1208 6.42937L11.2116 6.22622C11.5487 5.43526 11.3369 4.50599 10.6886 3.90521L10.3904 3.63291L11.0906 2.35786C11.7821 1.10443 11.7908 1.08282 11.7908 0.819163C11.7908 0.520932 11.7173 0.382622 11.4666 0.209734L11.324 0.114646L8.76956 0.118968C7.36485 0.118968 6.18489 0.131935 6.15031 0.149223ZM9.5951 4.91228C10.01 5.16296 9.9841 5.73782 9.54756 5.94528C9.39196 6.02308 9.2839 6.03605 8.77388 6.03605C8.33302 6.03605 8.13852 6.01876 8.00886 5.96689C7.55503 5.78536 7.50316 5.20186 7.91809 4.92524C8.0564 4.83016 8.10827 4.82583 8.76092 4.82583C9.37467 4.82583 9.47408 4.83448 9.5951 4.91228Z"
                            fill="#565656" />
                        <path
                            d="M11.921 8.65098C11.2597 8.75903 10.473 9.01404 9.87223 9.32092C9.40976 9.54999 8.72253 10.047 8.29463 10.449C7.26595 11.4215 6.53118 12.7787 6.25456 14.205C6.13354 14.8317 6.14218 16.0549 6.27185 16.6989C6.5355 18.0085 7.13629 19.1755 8.0353 20.1221C9.00347 21.1421 10.1921 21.8077 11.6054 22.1232C11.9988 22.2097 12.163 22.2227 13.0015 22.2227C13.84 22.2227 14.0042 22.2097 14.3976 22.1232C16.0875 21.7429 17.4663 20.8655 18.4734 19.5256C19.2427 18.4969 19.6966 17.304 19.8176 15.9857C20.0164 13.8073 19.1044 11.6074 17.4188 10.1897C16.5327 9.44626 15.5516 8.9665 14.3976 8.71149C13.8616 8.59047 12.4915 8.56021 11.921 8.65098ZM11.9988 12.8781C12.3488 13.0855 12.5261 13.5091 12.418 13.8981C12.3229 14.2482 11.8864 14.594 11.532 14.594C11.3245 14.594 11.0349 14.4557 10.8663 14.2698C10.4428 13.8117 10.5638 13.1461 11.1213 12.8521C11.4196 12.6965 11.7005 12.7052 11.9988 12.8781ZM15.1453 13.1028C15.4133 13.2757 15.5257 13.669 15.383 13.937C15.3485 14.0018 14.4667 14.9052 13.4251 15.9425C11.7567 17.6066 11.5103 17.8313 11.3677 17.8572C11.1732 17.8961 10.8793 17.7967 10.741 17.6498C10.5595 17.4553 10.5033 17.1138 10.62 16.8934C10.728 16.6903 14.4192 13.038 14.5575 12.9948C14.7347 12.9429 14.9595 12.9818 15.1453 13.1028ZM14.8817 16.3661C15.2231 16.539 15.4392 16.9539 15.3787 17.3126C15.3614 17.4121 15.2879 17.5849 15.2145 17.693C14.7044 18.4494 13.5375 18.0604 13.5418 17.1398C13.5461 16.9193 13.6801 16.66 13.8875 16.4871C14.1858 16.2278 14.5272 16.1846 14.8817 16.3661Z"
                            fill="#565656" />
                    </svg>
                    <span>Credito Fiscal</span>
                </a>
                
                <a class="main-card"  href = "consumidorfinal.html">
                    <svg width="23" height="20" viewBox="0 0 23 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M21.5417 0.654058H0V2.92161H2.60768L6.5997 13.8999C6.7592 14.337 7.04903 14.7146 7.43002 14.9816C7.81101 15.2487 8.2648 15.3923 8.73006 15.3931H18.1404V13.1256H8.73006L7.90468 10.858H18.1404C18.5939 10.858 19.0043 10.5882 19.1823 10.171L22.5837 2.23454C22.6582 2.06213 22.6886 1.87388 22.6722 1.68678C22.6558 1.49967 22.5931 1.31958 22.4897 1.16277C22.3863 1.00595 22.2456 0.877341 22.08 0.78853C21.9145 0.69972 21.7295 0.653506 21.5417 0.654058Z"
                            fill="#565656" />
                        <path
                            d="M9.63719 19.9283C10.5764 19.9283 11.3378 19.1669 11.3378 18.2276C11.3378 17.2884 10.5764 16.527 9.63719 16.527C8.69794 16.527 7.93652 17.2884 7.93652 18.2276C7.93652 19.1669 8.69794 19.9283 9.63719 19.9283Z"
                            fill="#565656" />
                        <path
                            d="M16.4399 19.9283C17.3792 19.9283 18.1406 19.1669 18.1406 18.2276C18.1406 17.2884 17.3792 16.527 16.4399 16.527C15.5007 16.527 14.7393 17.2884 14.7393 18.2276C14.7393 19.1669 15.5007 19.9283 16.4399 19.9283Z"
                            fill="#565656" />
                    </svg>
                    <span>Consumidor Final</span>
                </a>

                <a class="main-card" href = "servicios.html">
                    <svg width="20" height="23" viewBox="0 0 20 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M6.15031 0.149223C5.88234 0.265923 5.7181 0.529576 5.7181 0.827807C5.7181 1.02663 5.77428 1.15197 6.42694 2.34057L7.13577 3.63723L7.00179 3.74096C6.24973 4.32446 5.95582 5.32721 6.29295 6.15707L6.39668 6.4164L5.99904 6.572C5.14757 6.90913 4.34796 7.4494 3.62183 8.17553C2.75307 9.04861 2.16093 10.0427 1.80651 11.2227C1.75032 11.4129 1.41752 13.051 1.0631 14.8663C0.453668 18.0301 0.427734 18.1814 0.427734 18.7001C0.427734 19.6812 0.717321 20.4073 1.38726 21.1248C1.89296 21.6651 2.45052 21.9936 3.14639 22.1621C3.46191 22.2356 3.66506 22.2443 5.35503 22.2443C7.179 22.2443 7.22222 22.2443 7.3346 22.1535C7.49019 22.0282 7.57664 21.8509 7.57664 21.6392C7.57664 21.4014 7.53774 21.3366 7.10552 20.8785C4.85798 18.4926 4.31338 14.9787 5.73538 11.9791C6.18921 11.0282 6.67762 10.3496 7.45129 9.60185C8.41514 8.67258 9.48272 8.05883 10.7837 7.67848C11.3413 7.51856 11.4709 7.40618 11.5012 7.05608C11.5228 6.78379 11.4191 6.56335 11.2289 6.47691L11.1208 6.42937L11.2116 6.22622C11.5487 5.43526 11.3369 4.50599 10.6886 3.90521L10.3904 3.63291L11.0906 2.35786C11.7821 1.10443 11.7908 1.08282 11.7908 0.819163C11.7908 0.520932 11.7173 0.382622 11.4666 0.209734L11.324 0.114646L8.76956 0.118968C7.36485 0.118968 6.18489 0.131935 6.15031 0.149223ZM9.5951 4.91228C10.01 5.16296 9.9841 5.73782 9.54756 5.94528C9.39196 6.02308 9.2839 6.03605 8.77388 6.03605C8.33302 6.03605 8.13852 6.01876 8.00886 5.96689C7.55503 5.78536 7.50316 5.20186 7.91809 4.92524C8.0564 4.83016 8.10827 4.82583 8.76092 4.82583C9.37467 4.82583 9.47408 4.83448 9.5951 4.91228Z"
                            fill="#565656" />
                        <path
                            d="M11.921 8.65098C11.2597 8.75903 10.473 9.01404 9.87223 9.32092C9.40976 9.54999 8.72253 10.047 8.29463 10.449C7.26595 11.4215 6.53118 12.7787 6.25456 14.205C6.13354 14.8317 6.14218 16.0549 6.27185 16.6989C6.5355 18.0085 7.13629 19.1755 8.0353 20.1221C9.00347 21.1421 10.1921 21.8077 11.6054 22.1232C11.9988 22.2097 12.163 22.2227 13.0015 22.2227C13.84 22.2227 14.0042 22.2097 14.3976 22.1232C16.0875 21.7429 17.4663 20.8655 18.4734 19.5256C19.2427 18.4969 19.6966 17.304 19.8176 15.9857C20.0164 13.8073 19.1044 11.6074 17.4188 10.1897C16.5327 9.44626 15.5516 8.9665 14.3976 8.71149C13.8616 8.59047 12.4915 8.56021 11.921 8.65098ZM11.9988 12.8781C12.3488 13.0855 12.5261 13.5091 12.418 13.8981C12.3229 14.2482 11.8864 14.594 11.532 14.594C11.3245 14.594 11.0349 14.4557 10.8663 14.2698C10.4428 13.8117 10.5638 13.1461 11.1213 12.8521C11.4196 12.6965 11.7005 12.7052 11.9988 12.8781ZM15.1453 13.1028C15.4133 13.2757 15.5257 13.669 15.383 13.937C15.3485 14.0018 14.4667 14.9052 13.4251 15.9425C11.7567 17.6066 11.5103 17.8313 11.3677 17.8572C11.1732 17.8961 10.8793 17.7967 10.741 17.6498C10.5595 17.4553 10.5033 17.1138 10.62 16.8934C10.728 16.6903 14.4192 13.038 14.5575 12.9948C14.7347 12.9429 14.9595 12.9818 15.1453 13.1028ZM14.8817 16.3661C15.2231 16.539 15.4392 16.9539 15.3787 17.3126C15.3614 17.4121 15.2879 17.5849 15.2145 17.693C14.7044 18.4494 13.5375 18.0604 13.5418 17.1398C13.5461 16.9193 13.6801 16.66 13.8875 16.4871C14.1858 16.2278 14.5272 16.1846 14.8817 16.3661Z"
                            fill="#565656" />
                    </svg>
                    <span>Servicios</span>
                </a>

                <a class="main-card" href = "empleados.html">
                    <svg width="20" height="24" viewBox="0 0 20 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M8.91795 0.635005C6.93344 0.865762 5.12328 2.15287 4.24127 3.96303C3.44644 5.58859 3.42593 7.54233 4.18999 9.17301C4.75406 10.3729 5.83606 11.4703 7.01036 12.0344L7.36418 12.2036L6.86677 12.3421C4.63612 12.9677 2.68238 14.4086 1.41065 16.3726C0.626079 17.5828 0.0568786 19.1161 0.00559925 20.1519C-0.0302963 20.8339 0.0414948 21.2031 0.328659 21.798C0.631207 22.4287 1.12349 22.9313 1.72858 23.2338C2.51316 23.6287 2.05677 23.6081 9.78457 23.5928L16.6816 23.5774L17.015 23.4646C17.8406 23.1825 18.5533 22.5723 18.9072 21.8493C19.1789 21.2903 19.2712 20.916 19.2712 20.3416C19.2712 19.2904 18.6251 17.5367 17.7585 16.2444C16.456 14.2907 14.41 12.8395 12.1485 12.2703L11.9229 12.2087L12.4665 11.9216C13.7177 11.255 14.6151 10.2806 15.174 8.98841C15.9483 7.1885 15.7894 5.10143 14.7484 3.40409C14.3792 2.80412 13.4562 1.88109 12.8562 1.51188C11.6716 0.783715 10.2922 0.476039 8.91795 0.635005ZM10.5999 13.101C10.9794 13.26 11.4255 13.5523 11.4255 13.6394C11.4255 13.7676 10.8409 14.8548 10.5999 15.1727C10.4615 15.3573 10.3486 15.5316 10.3486 15.5675C10.3486 15.5983 10.8153 16.7162 11.3794 18.0546L12.4152 20.4852L12.2921 20.598C12.2255 20.6647 11.5999 21.239 10.8973 21.88L9.63073 23.0492L8.38464 21.9057C7.70263 21.2801 7.07702 20.7006 6.99497 20.6237L6.84626 20.4801L7.87698 18.0546C8.44618 16.7162 8.91282 15.5983 8.91282 15.5675C8.91282 15.5316 8.8 15.3624 8.66668 15.1829C8.43592 14.8753 7.94364 13.9779 7.86159 13.7164C7.82057 13.583 7.86159 13.542 8.24106 13.3113C8.73334 13.0138 9.04102 12.9369 9.68201 12.9523C10.1897 12.9626 10.3179 12.9831 10.5999 13.101Z"
                            fill="#565656" />
                    </svg>
                    <span>Empleados</span>
                </a>

                <a class="main-card"  href = "clientes.html">
                    <svg width="20" height="23" viewBox="0 0 20 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M9.49021 0.0357596C7.5057 0.266517 5.69554 1.55363 4.81354 3.36379C4.01871 4.98934 3.9982 6.94309 4.76226 8.57377C5.32633 9.7737 6.40832 10.8711 7.58262 11.4352L7.93645 11.6044L7.43904 11.7428C5.20839 12.3684 3.25465 13.8094 1.98292 15.7734C1.19834 16.9836 0.629144 18.5168 0.577865 19.5527C0.541969 20.2347 0.61376 20.6039 0.900925 21.1987C1.20347 21.8295 1.69575 22.332 2.30085 22.6346C3.08542 23.0294 2.62904 23.0089 10.3568 22.9935L17.2539 22.9781L17.5872 22.8653C18.4128 22.5833 19.1256 21.9731 19.4794 21.25C19.7512 20.6911 19.8435 20.3167 19.8435 19.7424C19.8435 18.6912 19.1974 16.9374 18.3308 15.6452C17.0283 13.6914 14.9822 12.2402 12.7208 11.671L12.4952 11.6095L13.0387 11.3223C14.29 10.6557 15.1873 9.6814 15.7463 8.38916C16.5206 6.58926 16.3616 4.50219 15.3207 2.80484C14.9515 2.20488 14.0284 1.28185 13.4285 0.912637C12.2439 0.18447 10.8645 -0.123206 9.49021 0.0357596Z"
                            fill="#565656" />
                    </svg>
                    <span>Clientes</span>
                </a>

                  <a class="main-card" href = "administradores.html">
                    <svg width="20" height="24" viewBox="0 0 20 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M8.91795 0.635005C6.93344 0.865762 5.12328 2.15287 4.24127 3.96303C3.44644 5.58859 3.42593 7.54233 4.18999 9.17301C4.75406 10.3729 5.83606 11.4703 7.01036 12.0344L7.36418 12.2036L6.86677 12.3421C4.63612 12.9677 2.68238 14.4086 1.41065 16.3726C0.626079 17.5828 0.0568786 19.1161 0.00559925 20.1519C-0.0302963 20.8339 0.0414948 21.2031 0.328659 21.798C0.631207 22.4287 1.12349 22.9313 1.72858 23.2338C2.51316 23.6287 2.05677 23.6081 9.78457 23.5928L16.6816 23.5774L17.015 23.4646C17.8406 23.1825 18.5533 22.5723 18.9072 21.8493C19.1789 21.2903 19.2712 20.916 19.2712 20.3416C19.2712 19.2904 18.6251 17.5367 17.7585 16.2444C16.456 14.2907 14.41 12.8395 12.1485 12.2703L11.9229 12.2087L12.4665 11.9216C13.7177 11.255 14.6151 10.2806 15.174 8.98841C15.9483 7.1885 15.7894 5.10143 14.7484 3.40409C14.3792 2.80412 13.4562 1.88109 12.8562 1.51188C11.6716 0.783715 10.2922 0.476039 8.91795 0.635005ZM10.5999 13.101C10.9794 13.26 11.4255 13.5523 11.4255 13.6394C11.4255 13.7676 10.8409 14.8548 10.5999 15.1727C10.4615 15.3573 10.3486 15.5316 10.3486 15.5675C10.3486 15.5983 10.8153 16.7162 11.3794 18.0546L12.4152 20.4852L12.2921 20.598C12.2255 20.6647 11.5999 21.239 10.8973 21.88L9.63073 23.0492L8.38464 21.9057C7.70263 21.2801 7.07702 20.7006 6.99497 20.6237L6.84626 20.4801L7.87698 18.0546C8.44618 16.7162 8.91282 15.5983 8.91282 15.5675C8.91282 15.5316 8.8 15.3624 8.66668 15.1829C8.43592 14.8753 7.94364 13.9779 7.86159 13.7164C7.82057 13.583 7.86159 13.542 8.24106 13.3113C8.73334 13.0138 9.04102 12.9369 9.68201 12.9523C10.1897 12.9626 10.3179 12.9831 10.5999 13.101Z"
                            fill="#565656" />
                    </svg>
                    <span>Administradores</span>
                </a>
            </div>
            <a class="logout-card">
                <svg width="26" height="23" viewBox="0 0 26 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M0.976086 10.7192C0.47568 11.1195 0.475679 11.8806 0.976086 12.2809L4.76347 15.3108C5.41824 15.8346 6.38817 15.3685 6.38817 14.53V13.7777C6.38817 13.2254 6.83588 12.7777 7.38817 12.7777H16.8869C17.4392 12.7777 17.8869 12.33 17.8869 11.7777V11.2224C17.8869 10.6701 17.4392 10.2224 16.8869 10.2224H7.38817C6.83588 10.2224 6.38817 9.77471 6.38817 9.22243V8.47015C6.38817 7.63164 5.41824 7.16547 4.76347 7.68928L0.976086 10.7192Z"
                        fill="#EBEBEB" />
                    <path
                        d="M14.0552 4.39009e-05C12.5444 -0.00414507 11.0478 0.291486 9.65213 0.86981C8.56401 1.32068 7.55408 1.93639 6.65711 2.69362C6.236 3.04912 6.2396 3.68444 6.62929 4.07413L7.02378 4.46863C7.41431 4.85915 8.04434 4.854 8.47531 4.50863C10.0544 3.24318 12.002 2.55531 14.0552 2.55531C16.4444 2.55531 18.6904 3.48671 20.3795 5.17574C22.0685 6.86477 22.9999 9.11085 22.9999 11.5C22.9999 13.8892 22.0685 16.1353 20.3795 17.8243C18.6904 19.5133 16.4444 20.4447 14.0552 20.4447C12.002 20.4447 10.0544 19.7569 8.47531 18.4914C8.04434 18.146 7.41431 18.1409 7.02378 18.5314L6.63122 18.924C6.24077 19.3144 6.23812 19.9513 6.6603 20.3072C8.72777 22.05 11.318 23 14.0552 23C17.1279 23 20.0153 21.8029 22.186 19.6309C24.358 17.4602 25.5552 14.5727 25.5552 11.5C25.5552 8.42731 24.358 5.53986 22.186 3.36916C21.121 2.29766 19.8539 1.44814 18.4582 0.86981C17.0625 0.291486 15.5659 -0.00414507 14.0552 4.39009e-05Z"
                        fill="#EBEBEB" />
                </svg>
                <span  onclick="logOut()">Cerrar Sesión</span>
            </a>
        </div>

        <div class="user-container" href="mi_perfil.html">
            <a class="image">
                <span>JP</span>
                <svg width="24" height="24" viewBox="0 0 24 24" style="fill: white;">
                    <path
                        d="M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z">
                    </path>
                </svg>
            </a>
            <div class="info">
                <span class="welcome-text">Bienvenido denuevo! 👋</span>
                <span class="name-text">${DATA.username}</span>
            </div>
        </div>
    </div>  `);
            loadNavBarJs();
            getSelected();

        } else {
            //sweetAlert(3, DATA.error, false, 'index.html');
        }
    } else {
        // Se comprueba si la página web es la principal, de lo contrario se direcciona a iniciar sesión.
        if (location.pathname.endsWith('index.html')) {
            // Se agrega el encabezado de la página web antes del contenido principal.
            MAIN.insertAdjacentHTML('beforebegin', `
                <header>
                    <nav class="navbar fixed-top bg-body-tertiary">
                        <div class="container">
                            <a class="navbar-brand" href="index.html">
                                <img src="../../resources/img/logo.png" alt="inventory" width="50">
                            </a>
                        </div>
                    </nav>
                </header>
            `);
        } else {
            //location.href = 'index.html';
        }
    }
}

const loadNavBarJs = () => {
    const SIDEBAR = document.getElementById("SIDEBAR");
    const SIDEBAR_ACTIVATOR = document.getElementById("SIDEBAR-ACTIVATOR");
    const MAIN = document.querySelector("main");
    let active = false;

    function toggleSidebar() {
        if (!active) {
            SIDEBAR.classList.add("active");
            MAIN.classList.add("blur");
        } else {
            SIDEBAR.classList.remove("active");
            MAIN.classList.remove("blur");
        }
        active = !active;

        // Detectar el ancho de la pantalla y quitar la clase "active" si es mayor a 600px
        if (window.matchMedia("(min-width: 600px)").matches) {
            SIDEBAR.classList.remove("active");
            MAIN.classList.remove("blur");
            active = false;
        }
    }

    //SIDEBAR_ACTIVATOR.addEventListener("click", toggleSidebar);

    // Lógica adicional para manejar cambios en el tamaño de la ventana
    window.addEventListener("resize", () => {
        // Si la pantalla es mayor a 600px y el sidebar está activo, desactívalo
        if (window.matchMedia("(min-width: 600px)").matches && active) {
            SIDEBAR.classList.remove("active");
            MAIN.classList.remove("blur");
            active = false;
        }
    });
}